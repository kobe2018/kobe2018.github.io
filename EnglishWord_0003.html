<!DOCTYPE html>
<html lang="ja-jp">
<head>
<title>TOEIC</title>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1">
<style>
@media screen and (max-width:500px) {
	/*　この位置に記述する　*/
	main {
    font-size:30px;
		width: 100%;
	}
}
</style>
<script>
"use strict";
//let wordLevel1 = new Array(qestion_const);
let wordLevel1=[
{no:"0039",en:"several",jp:"名「いくつか」　形「いくつかの」"},
{no:"0046",en:"among",jp:"前「・・・の間で」"},
{no:"0076",en:"never",jp:"決して●●しない」"},
{no:"0076A",en:"Peter Pan never grows old",jp:"例「ピーターパンは決して年を取らない」"},
{no:"0077",en:"grow",jp:"自「育つ」"},
{no:"0087",en:"quiet",jp:"形「静かな」"},
{no:"0096",en:"gloove",jp:"名「手袋」"},
{no:"0103",en:"vegetable",jp:"名「野菜」"},
{no:"0104",en:"salad",jp:"名「サラダ」"},
{no:"0118",en:"shine",jp:"自「輝く」他「・・・を磨く」"},
{no:"0133",en:"along",jp:"前「・・・に沿って」"},
{no:"0133A",en:"alone",jp:"「1人」"},
{no:"0143",en:"turn",jp:"例「turn on TV.テレビをつける」"},
{no:"0175",en:"hurt",jp:"他「を傷つける」他"},
{no:"0178",en:"invite",jp:"他「・・・を誘う。引き起こす」"},
{no:"0185",en:"college",jp:"名「大学」"},
{no:"0197",en:"present",jp:"名「贈り物」、他「・・・を提出する」"},
{no:"0205",en:"tonight",jp:"名「今夜」"},
{no:"0216",en:"neighbor",jp:"名「隣人」"},
{no:"0241",en:"sick",jp:"形「病気の」"},
{no:"0242",en:"aunt",jp:"おばさん"},
{no:"0253",en:"blow",jp:"・・・を吹き飛ばす"},
{no:"0258",en:"all",jp:"すべて"},
{no:"0264",en:"climb",jp:"自「登る」"},
{no:"0287",en:"perhas",jp:"副「たぶん」"},
{no:"0288",en:"daddy",jp:"名「お父さん」"},
{no:"0302",en:"above",jp:"前「・・・のより上（北）に」"},
{no:"0312",en:"hold",jp:"他「・・・を抱く」"},
{no:"0313",en:"doll",jp:"名「人形」"},
{no:"0320",en:"behind",jp:"前「・・・の後ろに、遅れて」"},
{no:"0322",en:"laugh",jp:"自「笑う」"},
{no:"0324",en:"suit",jp:"名「スーツ、訴訟」"},
{no:"0345",en:"noon",jp:"名「正午」"},
{no:"0349",en:"else",jp:"形「そのほかの」"},
{no:"0353",en:"silent",jp:"形「無言の」"},
{no:"0354",en:"shut",jp:"他「・・・を閉める」"},
{no:"0376",en:"wake",jp:"自「目が覚める」"},
{no:"0388",en:"funny",jp:"形「おかしい」"},
{no:"0389",en:"attack",jp:"他「・・・を攻撃する」"},
{no:"0396",en:"parent",jp:"親"},
{no:"0396A",en:"parents",jp:"両親"},
{no:"0399",en:"break",jp:"他「・・・を折る」"},
{no:"0404",en:"bring",jp:"他「・・・を持ってくる」"},
{no:"0414",en:"choose",jp:"自「選ぶ」"},
{no:"0415",en:"restaurant",jp:"名「レストラン」"},
{no:"0422",en:"shin",jp:"名「皮・肌・薄皮」"},
//{no:"0",en:"",jp:""},

];

const qestion_const = wordLevel1.length;
let qestion_string = "";
for(let i= 0;i<qestion_const;i++){
  //qestion_string += wordLevel1[i].en+"　";
  if((wordLevel1[i].en).length>=13){
    qestion_string += wordLevel1[i].en + "　";  
  }else{
    qestion_string += wordLevel1[i].en + " ".repeat(12-(wordLevel1[i].en).length);  
  }
  qestion_string += `<input type="button" id="ID_btn_voice${i}" value="発音">　`;
  qestion_string += `<input type="button" id="ID_btn_answer${i}" value="回答">　`;
  qestion_string += `<input type="button" id="ID_btn_understand${i}" value="覚えた">　`;
  qestion_string += `<span id="ID_answer${i}"></span><br><br>`;    
}

document.addEventListener('DOMContentLoaded',function(){
  document.getElementById('ID_pre').innerHTML = qestion_string;
  for(let i= 0;i<qestion_const;i++){
    document.getElementById(`ID_btn_answer${i}`).addEventListener("click", function(){
      document.getElementById(`ID_answer${i}`).innerHTML = `<span style="color:black">${wordLevel1[i].jp}</span>　`;
    },false);
  

    document.getElementById(`ID_btn_voice${i}`).addEventListener("click", function(){
      console.log(wordLevel1[i].no,wordLevel1[i].en,`(<span style='color:red'>${wordLevel1[i].jp}</span>)`);
      speech_type(wordLevel1[i].en);
    },false);
  }

  document.getElementById('ID_btn_all_voices').addEventListener("click", function(){
    for(let i= 0;i<qestion_const;i++){
      speech_type(wordLevel1[i].en);
    }
  },false);

  document.getElementById('ID_btn_all_check_the_answer').addEventListener("click", function(){
    for(let i= 0;i<qestion_const;i++){
      document.getElementById(`ID_answer${i}`).innerHTML = `${wordLevel1[i].jp}　`;
    }
  },false);
  

  document.getElementById('ID_btn_all_shuffle').addEventListener("click", function(){
    for(let i= 0;i<qestion_const;i++){
      wordLevel1= shuffle(wordLevel1);
    }
    qestion_string="";
    for(let i= 0;i<qestion_const;i++){
      if((wordLevel1[i].en).length>=13){
        qestion_string += wordLevel1[i].en + "　";  
      }else{
        qestion_string += wordLevel1[i].en + " ".repeat(12-(wordLevel1[i].en).length);  
      } 
      qestion_string += `<input type="button" id="ID_btn_voice${i}" value="発音" onclick="speech_type(wordLevel1[${i}].en);">　`;
      qestion_string += `<input type="button" id="ID_btn_answer${i}" value="回答" onclick="document.getElementById('ID_answer${i}').innerHTML = '${wordLevel1[i].jp}'">　`;
      qestion_string += `<input type="button" id="ID_btn_understand${i}" value="覚えた">　`;
      qestion_string += `<span id="ID_answer${i}"></span><br><br>`;
    }
  document.getElementById('ID_pre').innerHTML = qestion_string;
  },false);
  
},false);//document.addEventListener('DOMContentLoaded',function(){



function speech_type(speech){
  const uttr = new SpeechSynthesisUtterance();// 発話機能をインスタンス化
  uttr.text = speech;
  uttr.lang = "en-US"; 
  uttr.rate = 1.0;// 速度 min 0 ~ max 10
  /*
  console.log(`Voices #: ${speechSynthesis.getVoices().length}`);
  speechSynthesis.getVoices().forEach(voice => {
    console.log(voice.name,"★", voice.lang)
  })
  */
  //speechSynthesis.speak(uttr);
 
  // 英語に対応しているvoiceを設定
  const voices = speechSynthesis.getVoices()
    for (let i = 0; i < voices.length; i++) {
      if (voices[i].lang === 'en-US') {
        uttr.voice = voices[i]
      }
    }
  window.speechSynthesis.speak(uttr)
};

let shuffle = ([...array]) => {
  for (let i = array.length - 1; i >= 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [array[i], array[j]] = [array[j], array[i]];
  }
  return array;
}

</script>
</head>
<body>
<input type="button" id="ID_btn_all_voices" value="全発音">　
<input type="button" id="ID_btn_all_check_the_answer" value="全回答">　
<input type="button" id="ID_btn_all_shuffle" value="シャッフル">　
<br><br>
<pre id="ID_pre"></pre>
<span id="ID_span_all_answer"></span>
</body>
</html>
<!-- 177→→→→→ -->