<!DOCTYPE html>
<html lang="ja-jp">
<head>
<title>speak</title>
<meta charset="UTF-8"/>
<script>
//if(window.speechSynthesis){alert("good");}
"use strict";

document.addEventListener('DOMContentLoaded',function(){
  $$('speak-btn0').onclick = function(){speech_type("ja-JP");}
  $$('speak-btn1').onclick = function(){speech_type("en-US");}
  $$('speak-btn9').onclick = function(){speech_type("zh-CN");}
  $$('speak-btn_ko-KR').onclick = function(){speech_type("ko-KR");}
  $$('speak-btn_es-ES').onclick = function(){speech_type("es-ES");}//スペイン語
},false);


function speech_type(lang_type){
//var uttr=new SpeechSynthesisUtterance($$('text').value);
//https://qiita.com/kyota/items/da530ad22733b644518a
const uttr = new SpeechSynthesisUtterance();// 発話機能をインスタンス化
uttr.text = $$('text').value;
uttr.rate = 1.0;// 速度 min 0 ~ max 10
uttr.lang = lang_type; 

//let Gvoices = windows.speechSynthesis.getVoices();
//let Gvoices = speechSynthesis.getVoices();
//console.log("voices ",Gvoices);
//uttr.voice = Gvoices[1];
//uttr.name = "Microsoft Sayaka - Japanese (Japan)";
//uttr.name = "Microsoft Haruka - Japanese (Japan)";
//uttr.name = "Microsoft Ichiro - Japanese (Japan)";

console.log(`Voices #: ${speechSynthesis.getVoices().length}`);
speechSynthesis.getVoices().forEach(voice => {
  console.log(voice.name,"★", voice.lang)
})

speechSynthesis.speak(uttr);

};

function $$(id){return document.getElementById(id);}
</script>
</head>
<body>
以下を読みます。<br>
<textarea id="text" cols="100" rows="20">彼は学者English

</textarea><br>
<button id="speak-btn1">英語</button><br>
<br>
<button id="speak-btn0">日本語</button><br>
<button id="speak-btn9">中国語</button><br>
<button id="speak-btn_ko-KR">韓国語</button><br>
<button id="speak-btn_es-ES">スペイン語</button><br>
</body>
</html>