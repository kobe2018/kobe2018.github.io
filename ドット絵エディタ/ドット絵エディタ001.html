<!DOCTYPE HTML>
<html lang="ja">
<head>
<title>ãƒ‰ãƒƒãƒˆçµµä½œæˆã‚¨ãƒ‡ã‚£ã‚¿001</title>
<meta charset="utf-8" />

<link rel="stylesheet" type="text/css" href="css_text_editor.css"><style></style>
<script >
"use strict";
let [esc_flag,clear_flag]=[true,false];

window.addEventListener("DOMContentLoaded",function(){
    let element = document.querySelector('#ID_textarea01');

    //let ID_span_svg = document.querySelector('#ID_span_svg');
    let ID_svg = document.querySelector('#ID_svg');

    document.querySelector('body').style.backgroundColor = 'white';
    
    //keydown(element,element2);
    keydown(element);
    keyup(element);
    function_touch_event();

    document.querySelector('body').addEventListener('keydown', function(eve) {
      if(eve.ctrlKey){
        element.style.pointerEvents = "none";
      } 
    }, false);

    document.querySelector('body').addEventListener('keyup', function(eve) {
      if(!eve.ctrlKey){
        element.style.pointerEvents = "auto";
      } 
    }, false);



//document.querySelector('#ID_textarea01').addEventListener("change",function(){}, true);
  element.addEventListener('scroll', function(e) {
    let y = element.scrollTop;
    //console.log("scrollTop",element.scrollTop);//å–å¾—ã—ãŸã‚¤ãƒ™ãƒ³ãƒˆæƒ…å ±
    //https://www.javadrive.jp/javascript/webpage/index6.html
    //console.log("svg_width ",document.getElementById("ID_svg").width.animVal.value);
    //console.log("svg_height ",document.getElementById("ID_svg").height.animVal.value);

    let w = document.getElementById("ID_svg").width.animVal.value;//svgè¦ç´ ã®å¹…ï¼
    //let w = window.outerWidth;//
    //let w = window.innerWidth;//ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ãƒãƒ¼ã‚‚å«ã‚ãŸå¹…
    //let w = element.innerWidth;//ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ãƒãƒ¼ã‚’é™¤ãå¹…
    //let w = element.clientWidth;//ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ãƒãƒ¼ã‚’é™¤ãå¹…
    console.log("window.outerWidth",window.outerWidth,element.style.width,"window.innerWidth",window.innerWidth,"element.innerWidth",element.innerWidth,"clientWidth",element.clientWidth);
    
    
    let h = document.getElementById("ID_svg").height.animVal.value;//
    //let h = window.innerHeight;//ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ãƒãƒ¼ã‚‚å«ã‚ãŸå¹… âœ–ã‚‰ã—ã„
    //let h = element.clientHeight;//ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ãƒãƒ¼ã‚’é™¤ãå¹…
    //console.log("window.innerHeight",window.innerHeight,"clientHeight",element.clientHeight);

    document.getElementById("ID_svg").setAttribute("viewBox",`0 ${y} ${w},${h} `);
  }, true);


}, true);

</script>
</head>
<body>

<svg id="ID_svg" width ="calc(100%)" height="800" viewBox="0 0 calc(100%) 800" style="white-Space:pre;fill:black"></svg>

<textarea spellcheck="false" id="ID_textarea01" wrap="off" width="" placeholder ="
å¯¾è©±ã‚¨ãƒ‡ã‚£ã‚¿
ä½¿ã„æ–¹ã¯ã€
ã€Œhelpã€ã®å¾Œã«ãƒªã‚¿ãƒ¼ãƒ³ã‚’æŠ¼ã—ã¦ãã ã•ã„ã€‚
ğŸŸ¥ğŸŸ§ğŸŸ¨ğŸŸ©ğŸŸ¦ğŸŸªğŸŸ«â¬›â¬œâ–‘â–’â–“
">
</textarea>
<body>
</html>