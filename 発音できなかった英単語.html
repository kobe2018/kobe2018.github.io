<!DOCTYPE html>
<html lang="ja-jp">
<head>
<title>英単語の発音講座</title>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1">
<style>
@media screen and (max-width:500px) {
	/*　この位置に記述する　*/
	main {
    font-size:30px;
		width: 100%;
	}
}
</style>
<script>
"use strict";
//let wordLevel1 = new Array(qestion_const);
let wordLevel1=[
{no:"1",en:"incident",jp:""},
{no:"3",en:"to blame ",jp:"責任を負わせる"},
{no:"9",en:"There is no telling",jp:"有効な策はない"},
{no:"9",en:"telling",jp:"有効な、効果的な"},
{no:"9",en:"severe",jp:"容赦のない。×「シビア」→○「セヴィヤ」"},
{no:"9",en:"a severe earthquake",jp:"大地震"},
{no:"11",en:"Nothing is more delightful",jp:"これほど嬉しいことはない"},
{no:"11",en:"delightful",jp:"喜び。愉快。light「光」とは関係ない。ラテン語のdelectare 「誘惑する、魅惑する」 > 英語では喜ばせるに意味が変化。"},
{no:"19",en:"for his faults.",jp:"彼の過ちのために。"},
{no:"19",en:"faults",jp:"faultの複数形。欠点"},
{no:"19",en:"fault",jp:"欠点、短所、欠陥、過失"},
{no:"36",en:"It is worth while",jp:"それは価値がある"},
{no:"36",en:"worth while",jp:"○○する価値がある"},
{no:"36",en:"while",jp:"○○する間"},

{no:"36",en:"worth",jp:"価値。語源：ゲルマン祖語 werthaz（価値のある）⇒ wert-（交換する）。worthip（崇拝する）と同じ語源。"},
{no:"36",en:"wrong",jp:"間違い"},
{no:"36",en:"worship",jp:"崇拝する。語源はworthip"},


{no:"38",en:"illness",jp:""},
{no:"39",en:"able to predict earthquakes.",jp:"地震予知が出来る"},
{no:"39",en:"predict",jp:"予知"},
{no:"48",en:"he got the less talkative he became.",jp:""},
{no:"48",en:"less talkative",jp:"発言が少ない"},
{no:"48",en:"talkative",jp:"話し好き"},
{no:"63",en:"There is no doubt ",jp:""},
{no:"63",en:"no doubt",jp:""},
{no:"64",en:"Even if you are not to blame, you should apologize.",jp:""},
{no:"64",en:"you are not to blame",jp:"あなたのせいではない"},
{no:"64",en:"blame",jp:"責任をとる"},
{no:"64",en:"you should apologize.",jp:"謝るべきだ"},
{no:"64",en:"apologize.",jp:"謝る"},
{no:"70",en:"after five years' absence.",jp:"5年ぶり"},
{no:"70",en:"absence",jp:"留守"},
{no:"71",en:"enabled him to live in comfort.",jp:"彼を快適に暮らせるようにした。"},
{no:"71",en:"enabled",jp:""},
{no:"71",en:"comfort.",jp:"快適"},
{no:"74",en:"something noble ",jp:"なんとなく気品"},
{no:"74",en:"noble",jp:"気品"},
{no:"83",en:"to persuade him.",jp:"彼を説得する。"},
{no:"83",en:"persuade",jp:"説得する"},

//{no:"0",en:"",jp:""},

];

const qestion_const = wordLevel1.length;
let qestion_string = "";
for(let i= 0;i<qestion_const;i++){
  //qestion_string += wordLevel1[i].en+"　";
  if((wordLevel1[i].en).length>=13){
    qestion_string += wordLevel1[i].en + "　";  
  }else{
    qestion_string += wordLevel1[i].en + " ".repeat(12-(wordLevel1[i].en).length);  
  }
  qestion_string += `<input type="button" id="ID_btn_voice0p3_${i}" value="0.3発音">　`;
  qestion_string += `<input type="button" id="ID_btn_voice${i}" value="1.0発音">　`;
  qestion_string += `<input type="button" id="ID_btn_answer${i}" value="回答">　`;
  qestion_string += `<span id="ID_answer${i}"></span><br><br>`;    
}

document.addEventListener('DOMContentLoaded',function(){
  document.getElementById('ID_pre').innerHTML = qestion_string;
  for(let i= 0;i<qestion_const;i++){
    document.getElementById(`ID_btn_answer${i}`).addEventListener("click", function(){
      document.getElementById(`ID_answer${i}`).innerHTML = `<span style="color:black">${wordLevel1[i].jp}</span>　`;
    },false);
  

    document.getElementById(`ID_btn_voice${i}`).addEventListener("click", function(){
      console.log(wordLevel1[i].no,wordLevel1[i].en,`(<span style='color:red'>${wordLevel1[i].jp}</span>)`);
      speech_type(wordLevel1[i].en);
    },false);
  }

  document.getElementById('ID_btn_all_voices').addEventListener("click", function(){
    for(let i= 0;i<qestion_const;i++){
      speech_type(wordLevel1[i].en);
    }
  },false);

  document.getElementById('ID_btn_all_check_the_answer').addEventListener("click", function(){
    for(let i= 0;i<qestion_const;i++){
      document.getElementById(`ID_answer${i}`).innerHTML = `${wordLevel1[i].jp}　`;
    }
  },false);
  

  document.getElementById('ID_btn_all_shuffle').addEventListener("click", function(){
    for(let i= 0;i<qestion_const;i++){
      wordLevel1= shuffle(wordLevel1);
    }
    qestion_string="";
    for(let i= 0;i<qestion_const;i++){
      if((wordLevel1[i].en).length>=13){
        qestion_string += wordLevel1[i].en + "　";  
      }else{
        qestion_string += wordLevel1[i].en + " ".repeat(12-(wordLevel1[i].en).length);  
      } 
      qestion_string += `<input type="button" id="ID_btn_voice0p3${i}" value="0.3発音" onclick="speech_type(wordLevel1[${i}].en);">　`;
      qestion_string += `<input type="button" id="ID_btn_voice${i}" value="発音" onclick="speech_type(wordLevel1[${i}].en);">　`;
      qestion_string += `<input type="button" id="ID_btn_answer${i}" value="回答" onclick="document.getElementById('ID_answer${i}').innerHTML = '${wordLevel1[i].jp}'">　`;
      qestion_string += `<span id="ID_answer${i}"></span><br><br>`;
    }
  document.getElementById('ID_pre').innerHTML = qestion_string;
  },false);
  
},false);//document.addEventListener('DOMContentLoaded',function(){



function speech_type(speech){
  const uttr = new SpeechSynthesisUtterance();// 発話機能をインスタンス化
  uttr.text = speech;
  uttr.lang = "en-US"; 
  uttr.rate = 1.0;// 速度 min 0 ~ max 10
  /*
  console.log(`Voices #: ${speechSynthesis.getVoices().length}`);
  speechSynthesis.getVoices().forEach(voice => {
    console.log(voice.name,"★", voice.lang)
  })
  */
  //speechSynthesis.speak(uttr);
 
  // 英語に対応しているvoiceを設定
  const voices = speechSynthesis.getVoices()
    for (let i = 0; i < voices.length; i++) {
      if (voices[i].lang === 'en-US') {
        uttr.voice = voices[i]
      }
    }
  window.speechSynthesis.speak(uttr)
};

let shuffle = ([...array]) => {
  for (let i = array.length - 1; i >= 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [array[i], array[j]] = [array[j], array[i]];
  }
  return array;
}

</script>
</head>
<body>
<input type="button" id="ID_btn_all_voices" value="全発音">　
<input type="button" id="ID_btn_all_check_the_answer" value="全回答">　
<input type="button" id="ID_btn_all_shuffle" value="シャッフル">　
<br><br>
<pre id="ID_pre"></pre>
<span id="ID_span_all_answer"></span>
</body>
</html>
<!-- 177→→→→→ -->